(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{471:function(t,s,a){t.exports=a.p+"assets/img/navtest.ce167c87.gif"},472:function(t,s,a){t.exports=a.p+"assets/img/testres1.bf19eb39.png"},570:function(t,s,a){"use strict";a.r(s);var n=a(59),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"리액트-테스트-코드-짜는법-리액트-테스팅-라이브러리-사용법"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#리액트-테스트-코드-짜는법-리액트-테스팅-라이브러리-사용법"}},[t._v("#")]),t._v(" 리액트 테스트 코드 짜는법, 리액트 테스팅 라이브러리 사용법")]),t._v(" "),n("h2",{attrs:{id:"서론"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#서론"}},[t._v("#")]),t._v(" 서론")]),t._v(" "),n("p",[t._v("다들 TDD, TDD 하는데 본 코드도 짜기 힘든데 테스트 코드를 같이 짜라고...? 하는 생각에 테스트 코드를 작성하지 않는 분들이 많을 것 같다.")]),t._v(" "),n("p",[t._v("나도 항상 그래왔다. 그래서 해보지도 않고 미루기보다, 사람들이 왜 그렇게 입모아 테스트의 중요성을 외치는 지 알기 위해 내가 직접 테스트 코드를 짜고 적용해봤다.")]),t._v(" "),n("h2",{attrs:{id:"리액트-테스팅-라이브러리"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#리액트-테스팅-라이브러리"}},[t._v("#")]),t._v(" 리액트 테스팅 라이브러리")]),t._v(" "),n("p",[t._v("리액트 CRA에서 제공하는 "),n("a",{attrs:{href:"https://testing-library.com/docs/queries/about",target:"_blank",rel:"noopener noreferrer"}},[t._v("테스팅 라이브러리"),n("OutboundLink")],1),t._v("를 써봤다."),n("br"),t._v("\n일단은 이 페이지만 알아도 가벼운 테스트 코드를 작성할 수 있다.")]),t._v(" "),n("h2",{attrs:{id:"테스트-코드-개발-시작"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#테스트-코드-개발-시작"}},[t._v("#")]),t._v(" 테스트 코드 개발 시작")]),t._v(" "),n("p",[t._v("중요한 점은 TDD를 하려면 테스트 코드를 먼저 짜고, 그 다음 본 코드를 적어야한다는 거다.")]),t._v(" "),n("ol",[n("li",[t._v("원하는 기능이 작동하는지 테스트하는 테스트 코드 작성 (당연히 오류가 난다)")]),t._v(" "),n("li",[t._v("오류가 나면, 그 오류를 고칠 수 있는 본 코드를 작성")]),t._v(" "),n("li",[t._v("테스트 구동, 오류가 여전히 나면 본 코드를 수정 (테스트 성공할때까지 반복)")]),t._v(" "),n("li",[t._v("테스트 성공")]),t._v(" "),n("li",[t._v("리팩토링(후에도 테스트가 성공해야함)")])]),t._v(" "),n("h2",{attrs:{id:"리액트-라우터-테스트"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#리액트-라우터-테스트"}},[t._v("#")]),t._v(" 리액트 라우터 테스트")]),t._v(" "),n("p",[n("img",{attrs:{src:a(471),alt:"라우팅 적용된 네비게이션 바"}})]),t._v(" "),n("p",[t._v("(개발 중인 코드에 테스트 코드를 넣은거라 완전 TDD는 아님 주의)"),n("br"),t._v("\n위 gif를 보면 App 컴포넌트 안에 리액트 라우터를 사용해 라우팅 정보를 넣어두었다."),n("br"),t._v("\n또 왼쪽에 네비게이션 바를 두어, 페이지를 이동할 수 있다."),n("br"),t._v("\n가장 먼저, "),n("strong",[t._v("앱 실행 시 상단에 'LeadPet'이라고 적힌 네비게이션 바가 뜨는지")]),t._v(" 확인하고 싶다.")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("describe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<App />'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<App /> 렌더링 시 navBar가 뜨나요?'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" history "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createMemoryHistory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Router location"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("history"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" navigator"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("history"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Router"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("screen"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getByText")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LeadPet'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBeInTheDocument")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("p",[t._v("테스트 구동: "),n("code",[t._v("npm test App.test.js")])]),t._v(" "),n("p",[t._v("리액트 라우터 테스트 방법 또한 "),n("a",{attrs:{href:"https://testing-library.com/docs/example-react-router/",target:"_blank",rel:"noopener noreferrer"}},[t._v("공식 문서"),n("OutboundLink")],1),t._v("를 참고했다."),n("br"),t._v("\n라우터 정보가 없는 "),n("code",[t._v("App")]),t._v(" 컴포넌트라면 그냥 "),n("code",[t._v("render(<App />)")]),t._v("로 테스트해도 되는데, 라우터 정보가 있는 앱 컴포넌트의 경우 "),n("code",[t._v("useRoutes() may be used only in the context of a Router component.")]),t._v(" 에러가 뜨므로 주의!")]),t._v(" "),n("p",[t._v("하단의 "),n("code",[t._v("expect")]),t._v("문장을 통해 "),n("strong",[t._v("렌더링된 screen에 LeadPet이라는 텍스트가 있는지")]),t._v(" 확인하고, 있으면 테스트를 통과하게 된다.")]),t._v(" "),n("p",[n("img",{attrs:{src:a(472),alt:"테스트 성공"}})]),t._v(" "),n("p",[t._v("그럼 이렇게 테스트 성공!")])])}),[],!1,null,null,null);s.default=e.exports}}]);