<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>고성능 파이썬 | 개발자 박하은 : TIL</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.svg">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="하루하루 배운 것을 적어봅니당">
    
    <link rel="preload" href="/assets/css/0.styles.2f020c09.css" as="style"><link rel="preload" href="/assets/js/app.01dafc0a.js" as="script"><link rel="preload" href="/assets/js/2.9a5fdc28.js" as="script"><link rel="preload" href="/assets/js/3.f506e88a.js" as="script"><link rel="preload" href="/assets/js/33.2ad3b1e5.js" as="script"><link rel="prefetch" href="/assets/js/10.506671fd.js"><link rel="prefetch" href="/assets/js/100.7d370b48.js"><link rel="prefetch" href="/assets/js/101.a758c075.js"><link rel="prefetch" href="/assets/js/102.edfb6d8e.js"><link rel="prefetch" href="/assets/js/103.287d4674.js"><link rel="prefetch" href="/assets/js/104.b40cb2c3.js"><link rel="prefetch" href="/assets/js/105.3114667a.js"><link rel="prefetch" href="/assets/js/106.8d316d17.js"><link rel="prefetch" href="/assets/js/11.3500d894.js"><link rel="prefetch" href="/assets/js/12.9711effb.js"><link rel="prefetch" href="/assets/js/13.af52c8fc.js"><link rel="prefetch" href="/assets/js/14.2fd40f41.js"><link rel="prefetch" href="/assets/js/15.ef96c187.js"><link rel="prefetch" href="/assets/js/16.da48cff1.js"><link rel="prefetch" href="/assets/js/17.bc7b242b.js"><link rel="prefetch" href="/assets/js/18.f781e046.js"><link rel="prefetch" href="/assets/js/19.75b66bba.js"><link rel="prefetch" href="/assets/js/20.8c1a4052.js"><link rel="prefetch" href="/assets/js/21.e800525a.js"><link rel="prefetch" href="/assets/js/22.964d26d5.js"><link rel="prefetch" href="/assets/js/23.dacdb27d.js"><link rel="prefetch" href="/assets/js/24.3cb103ba.js"><link rel="prefetch" href="/assets/js/25.87413fee.js"><link rel="prefetch" href="/assets/js/26.d2ac3009.js"><link rel="prefetch" href="/assets/js/27.44c41b6a.js"><link rel="prefetch" href="/assets/js/28.3bd90694.js"><link rel="prefetch" href="/assets/js/29.618b8db8.js"><link rel="prefetch" href="/assets/js/30.c219b3ac.js"><link rel="prefetch" href="/assets/js/31.900bc326.js"><link rel="prefetch" href="/assets/js/32.42090d4d.js"><link rel="prefetch" href="/assets/js/34.af02f726.js"><link rel="prefetch" href="/assets/js/35.f203a3e6.js"><link rel="prefetch" href="/assets/js/36.30c3eb06.js"><link rel="prefetch" href="/assets/js/37.73e9a554.js"><link rel="prefetch" href="/assets/js/38.441df7d1.js"><link rel="prefetch" href="/assets/js/39.40ac8014.js"><link rel="prefetch" href="/assets/js/4.dcf7541f.js"><link rel="prefetch" href="/assets/js/40.78673b30.js"><link rel="prefetch" href="/assets/js/41.19a3a87c.js"><link rel="prefetch" href="/assets/js/42.a35c31fc.js"><link rel="prefetch" href="/assets/js/43.e53d6059.js"><link rel="prefetch" href="/assets/js/44.ef145e25.js"><link rel="prefetch" href="/assets/js/45.dc773965.js"><link rel="prefetch" href="/assets/js/46.a804fa65.js"><link rel="prefetch" href="/assets/js/47.17ead68d.js"><link rel="prefetch" href="/assets/js/48.e292bb16.js"><link rel="prefetch" href="/assets/js/49.ee6075c8.js"><link rel="prefetch" href="/assets/js/5.a60f2c31.js"><link rel="prefetch" href="/assets/js/50.556dc4f4.js"><link rel="prefetch" href="/assets/js/51.7331e54b.js"><link rel="prefetch" href="/assets/js/52.b4fb4c4c.js"><link rel="prefetch" href="/assets/js/53.a2647ea8.js"><link rel="prefetch" href="/assets/js/54.f4a60b04.js"><link rel="prefetch" href="/assets/js/55.2db9fbb6.js"><link rel="prefetch" href="/assets/js/56.bc872077.js"><link rel="prefetch" href="/assets/js/57.c9771c8a.js"><link rel="prefetch" href="/assets/js/58.8bd6e774.js"><link rel="prefetch" href="/assets/js/59.7b1e5c28.js"><link rel="prefetch" href="/assets/js/6.14e653cc.js"><link rel="prefetch" href="/assets/js/60.4084f74c.js"><link rel="prefetch" href="/assets/js/61.29ea41d0.js"><link rel="prefetch" href="/assets/js/62.a221f8b0.js"><link rel="prefetch" href="/assets/js/63.ba792f09.js"><link rel="prefetch" href="/assets/js/64.b58a5ce5.js"><link rel="prefetch" href="/assets/js/65.5ed6eae7.js"><link rel="prefetch" href="/assets/js/66.43210a4d.js"><link rel="prefetch" href="/assets/js/67.3a53bb3b.js"><link rel="prefetch" href="/assets/js/68.89fbcc69.js"><link rel="prefetch" href="/assets/js/69.81fb34ed.js"><link rel="prefetch" href="/assets/js/7.78b31e19.js"><link rel="prefetch" href="/assets/js/70.2ea89033.js"><link rel="prefetch" href="/assets/js/71.6c757087.js"><link rel="prefetch" href="/assets/js/72.05e0a965.js"><link rel="prefetch" href="/assets/js/73.c350041d.js"><link rel="prefetch" href="/assets/js/74.35550c62.js"><link rel="prefetch" href="/assets/js/75.4951a53f.js"><link rel="prefetch" href="/assets/js/76.c65e46bb.js"><link rel="prefetch" href="/assets/js/77.97b5a697.js"><link rel="prefetch" href="/assets/js/78.f8b1902d.js"><link rel="prefetch" href="/assets/js/79.34d9c8cf.js"><link rel="prefetch" href="/assets/js/8.598d90c9.js"><link rel="prefetch" href="/assets/js/80.79da227a.js"><link rel="prefetch" href="/assets/js/81.f2968ce6.js"><link rel="prefetch" href="/assets/js/82.a2d865ed.js"><link rel="prefetch" href="/assets/js/83.b98e0b55.js"><link rel="prefetch" href="/assets/js/84.31656d0d.js"><link rel="prefetch" href="/assets/js/85.e17674a7.js"><link rel="prefetch" href="/assets/js/86.5a4907c6.js"><link rel="prefetch" href="/assets/js/87.68dc8b47.js"><link rel="prefetch" href="/assets/js/88.8d14f654.js"><link rel="prefetch" href="/assets/js/89.0cf770fa.js"><link rel="prefetch" href="/assets/js/9.f1af49be.js"><link rel="prefetch" href="/assets/js/90.593d9f9f.js"><link rel="prefetch" href="/assets/js/91.f83fc05b.js"><link rel="prefetch" href="/assets/js/92.ab225cfd.js"><link rel="prefetch" href="/assets/js/93.b766d8e3.js"><link rel="prefetch" href="/assets/js/94.0ac59005.js"><link rel="prefetch" href="/assets/js/95.1d43053b.js"><link rel="prefetch" href="/assets/js/96.69d2a5cb.js"><link rel="prefetch" href="/assets/js/97.973f3c6b.js"><link rel="prefetch" href="/assets/js/98.c759977e.js"><link rel="prefetch" href="/assets/js/99.ff487327.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2f020c09.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="개발자 박하은 : TIL" class="logo"> <span class="site-name can-hide">개발자 박하은 : TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://haeun.vercel.app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://pullingoff.github.io/vue-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Note
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/pullingoff" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://haeun.vercel.app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://pullingoff.github.io/vue-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Note
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/pullingoff" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Books I Read</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/til/Books I Read/2021-05-01-cjs1.html" class="sidebar-link">[코어 자바스크립트] 1장: 데이터타입</a></li><li><a href="/til/Books I Read/2021-designexp.html" class="sidebar-link">경험 디자인</a></li><li><a href="/til/Books I Read/2021-fbknows.html" class="sidebar-link">페이스북은 내가 우울증인걸 알고 있다</a></li><li><a href="/til/Books I Read/2021-growingup.html" class="sidebar-link">그로잉 업</a></li><li><a href="/til/Books I Read/2021-highpy.html" class="active sidebar-link">고성능 파이썬</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/til/Books I Read/2021-highpy.html#_1-기본-컴퓨터-시스템" class="sidebar-link">1. 기본 컴퓨터 시스템</a></li><li class="sidebar-sub-header"><a href="/til/Books I Read/2021-highpy.html#_3-리스트와-튜플" class="sidebar-link">3. 리스트와 튜플</a></li><li class="sidebar-sub-header"><a href="/til/Books I Read/2021-highpy.html#제너레이터" class="sidebar-link">제너레이터</a></li><li class="sidebar-sub-header"><a href="/til/Books I Read/2021-highpy.html#pandas-행렬과-벡터-계산" class="sidebar-link">pandas(행렬과 벡터 계산)</a></li><li class="sidebar-sub-header"><a href="/til/Books I Read/2021-highpy.html#기타" class="sidebar-link">기타</a></li></ul></li><li><a href="/til/Books I Read/2021-microinteraction.html" class="sidebar-link">마이크로인터랙션</a></li><li><a href="/til/Books I Read/2021-obj-true-mis.html" class="sidebar-link">객체지향의 사실과 오해</a></li><li><a href="/til/Books I Read/2021-securecoding.html" class="sidebar-link">시큐어코딩</a></li><li><a href="/til/Books I Read/2021-sqltuning.html" class="sidebar-link">업무에 바로 쓰는 SQL 튜닝</a></li><li><a href="/til/Books I Read/2021-swmaster.html" class="sidebar-link">소프트웨어 장인</a></li><li><a href="/til/Books I Read/2022-modernjs.html" class="sidebar-link">모던 자바스크립트 핵심 가이드</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithms</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Computer Architecture</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ETC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JAVA</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NextJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Operation System</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Projects</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-기본-컴퓨터-시스템"><a href="#_1-기본-컴퓨터-시스템" class="header-anchor">#</a> 1. 기본 컴퓨터 시스템</h2> <ol><li>연산장치(CPU, GPU) : 여러 bit를 입력받아 다른 비트 조합으로 변환.
<ol><li>gpu-병렬적, 많은 계산 동시 처리 가능</li> <li>한 사이클에 처리할 수 있는 연산의 개수: Instructions Per Cycle,  1초에 처리할 수 있는 사이클의 횟수: 클럭 속도. IPC와 클럭 속도를 향상하기에는 트랜지스터를 더 작게 만들어야했기 때문에 한계가 있었음. 그래서 다중 스레딩, 비순차적 명령어 처리, 멀티 코어 아키텍처 같은 다른 방법을 모색하기 시작.</li> <li>비순차적 명령어처리: 이전 작업 결과와 상관없는 작업을 순서없이 또는 동시에 실행</li> <li>멀티 코어 아키텍처(듀얼 코어 등): 실행 유닛 하나에 CPU를 여러개 두어 전체적인 처리량을 키움</li> <li>그러나 CPU에 코어가 많아진다고 무조건 실행시간이 단축되는 건 아님. 한 코어가 실행하는 작업에 걸리는 시간이 최대 한계</li></ol></li> <li>메모리 장치(메인보드의 레지스터, RAM, 하드 드라이브): 비트를 저장
<ol><li>데이터를 읽는 방식이 데이터를 읽고 쓰는 속도에 절대적인 영향을 끼침</li> <li>조금씩 자주(임의접근) vs. 한꺼번에 많이(순차 접근)? 한꺼번에 많이가 훨씬 빠르게 작동.</li> <li>레이턴시latency: 장치가 데이터를 찾기까지 걸리는 시간. 하드드라이브는 물리적으로 헤드를 움직여 데이터를 읽으므로 레이턴시가 긴편 vs. RAM은 모든 데이터를 전자적으로 읽어 짧음</li> <li>하드드라이브: 읽쓰 속도 느림, 대용량 데이터 저장 가능</li> <li>SSD: 읽쓰하드디스크보다 빠름. 용량 작음.</li> <li>RAM: 읽쓰 빠르나 일반적으로 용량이 64GB로 제한적</li> <li>L1,L2캐시: 읽쓰 매우 빠름. Cpu로 전달하는 데이터는 항상 이 캐시를 거침. 용량 매우 작음</li> <li>읽쓰 속도/용량은 반비례. 그래서 시스템들은 메모리를 단계별로 운용함. (하드 드라이브에 전체 데이터 저장 -&gt; 일부를 RAM으로 옮김 -&gt; 그중 매우 작은 부분을 L1/L2 캐시로 옮김) 그러면 프로그램에서 요구하는 메모리 접근 속도에 따라 데이터를 다양한 곳에 저장가능. 또 어떤 데이터가 어디에/어떻게 저장될건지, 몇번이나 데이터를 옮길건지 최적화하면 좋음.</li></ol></li> <li>통신 계층(버스): FSB는 RAM과 L1/L2 캐시를 연결. 처리할 준비가 된 데이터를 옮겨 프로세서가 계산할 수 있도록함. 계산 완료되면 다시 돌려줌. L1/L2 캐시가 빠른 것도 버스가 빨라서임
<ol><li>컴퓨터 안의 데이터 통신 속도 &gt; 네트워크를 통한 데이터 전송
<ol><li>버스의 핵심 속성: 주어진 시간 안에 얼마나 많은 데이터를 전송할 수 있는가? 1회에 가능한 데이터 양을 나타내는 버스 폭width과 초당 몇번 전송할 수 있는지의 버스 주파수frequency</li> <li>버스 폭이 좁더라도 주파수가 높으면 임의의 메모리 영역을 자주 읽을 떄 도움이 됨 (메인보드의 물리적 구조에 따라 바뀜)</li></ol></li></ol></li></ol> <ul><li><p>성능체크. 함수 실행에 소요되는 시간을 체크하는 데코레이터를 만들어서 함수에 붙였다. 그리고 작업관리자로 확인해보니 윈도우 업데이트 관련한 프로세스가 cpu를 30% 점유하고 있어서 문제해결했다. 이처럼 백그라운드 작업들이 cpu나 디스크 자원에 영향을 준닼 cpu, 디스크, 네트워크에 간섭하는 요소가 없는지 계속 살펴볼 것!!!</p></li> <li><p>파이썬으로 db를 계속 연결해둔 채로 neo4j에 삽입하는 쿼리를 실행하니 작업 돌려놓고 퇴근을 했다가 출근하면 중간에 디비가 끊겨있는 경우가 잦음. -&gt; 아예 파이썬으로 쿼리 csv를 만들고, 그 이후 그 csv의 row를 실행하도록 해 디비가 중간에 끊기지 않음</p></li></ul> <h2 id="_3-리스트와-튜플"><a href="#_3-리스트와-튜플" class="header-anchor">#</a> 3. 리스트와 튜플</h2> <ol><li>리스트와 튜플은 배열에 속한다. 배열은 '정해진 고유의 순서'에 따라 데이터를 나열한 것임. =&gt; 이런 자료구조에서는 항목의 순서가 항목 자체만큼 중요</li> <li>리스트: 동적 배열, 튜플: 정적 배열. 튜플을 저장할 땐 메모리 오버헤드가 작고 연산도 명료하게 수행 가능</li> <li>정렬되지 않은 배열에서 특정 항목을 찾으려면 모든 항목을 검사하게 되는데, 이때 찾으려는 항목이 배열에 없으면 최악임. 그렇기때문에 해시테이블을 사용하거나 데이터를 먼저 정렬하고 검색하는 것이 좋음.</li> <li>리스트의 경우 resize를 하면 원래 길이 n+추가된 양m에다가 +a로 여유분을 더 더함. 리스트에 값을 한번 추가하면 그뒤로도 추가할 확률이 높다고 생각하기 때문. =&gt; 항목을 겨우 10만개 저장하더라도 append를 사용해 리스트를 만들면 그냥 리스트 내포([])해서 만들때마다 메모리를 2.7배 더 사용함</li> <li>튜플은 append가 불가 =&gt; 새로운 항목을 추가(튜플+튜플)하는 생황엔 항상 새로운 튜플 하나의 메모리를 새로 할당함</li> <li>append를 사용하지 않더라도 리스트는 상태 정보를 관리하므로 튜플보다 메모리를 더 사용</li> <li>딕셔너리와 셋: 객체 형태의 자료구조</li> <li>셋: 유일한 키의 모음</li></ol> <h2 id="제너레이터"><a href="#제너레이터" class="header-anchor">#</a> 제너레이터</h2> <ul><li>yield a : 이 함수는 a에 있던 값을 반환(방출)하고, 다른 값 요청이 들어오면 이전 값을 유지한 채로 실행을 재개해 새로운 값을 방출한다. 리스트의 개수만큼 반복해야할때 리스트를 직접 만들 필요없이 메모리를 아끼면서 반복 실행 가능</li></ul> <h2 id="pandas-행렬과-벡터-계산"><a href="#pandas-행렬과-벡터-계산" class="header-anchor">#</a> pandas(행렬과 벡터 계산)</h2> <ul><li>numpy 위에 구축한 라이브러리. 균일한 타입의 데이터로 이뤄진 열을 입력받아 불균일한 타입의 표로 저장</li> <li>엑셀 시트같은 자료구조를 사용</li> <li>row 연산할때 종종 임시 중간 배열을 생성해 램 소모 -&gt; 임시 메모리 사용량을 현재 메모리 사용량의 3~5배 정도로 예상하라</li> <li>팬더스에서 여러 데이터 행에 함수를 적용할때 루프를 사용하는 <strong>전형적인 파이썬 방식이 보통 가장 느림</strong></li> <li>iteration해서 한 함수를 df 전체에 적용할 때 가장 나쁜 방법1. for row_idx in range(df.shape[0]): row = df.iloc[row_idx]해서 iloc으로 df에서 또 검색해서 row 가져오기</li> <li>iloc보단 나은 것: iterrows()</li> <li>가장 나은것: 바로 df.apply(함수, raw=True) 이때 raw=True를 하면 중간 Series 객체가 만들어지지 않음</li> <li>pandas, numpy에서 concat을 반복 호출하면 행이 하나만 추가된 임시 Series가 계속 생기니까 지양할 것. 리스트를 만든 다음 그 리스트로 Series나 df를 구성하는것이 훨 나음.</li></ul> <h3 id="효율적인-팬더스-개발을-위한-조언"><a href="#효율적인-팬더스-개발을-위한-조언" class="header-anchor">#</a> 효율적인 팬더스 개발을 위한 조언</h3> <ul><li>메서드 체이닝(메서드 뒤에 계속 잇는 것) 적당히 할 것</li> <li>numexpr, bottleneck 사용할 것</li> <li>데이터에 필터를 먼저 적용하는 게 계산 수행 후 필터를 적용하는 것보다 나음</li> <li>dataframe을 진화시키고 새로운 복사본을 만들때 del 써서 예전의 참조를 삭제하고 메모리에서 해제하기</li> <li>큰 df는 to_pickle 하면 디스크에 영속화 가능</li> <li>inplace=True 줄이기. 삭제될 예정.</li></ul> <h2 id="기타"><a href="#기타" class="header-anchor">#</a> 기타</h2> <ul><li>코드 구조를 잡을 땐 CPU 속도 vs. 메모리 효율성 중 어느쪽으로 최적화해야할지 반드시 결정해야함.</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/4/2022, 10:40:19 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/til/Books I Read/2021-growingup.html" class="prev">
        그로잉 업
      </a></span> <span class="next"><a href="/til/Books I Read/2021-microinteraction.html">
        마이크로인터랙션
      </a>
      →
    </span></p></div> </main></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.01dafc0a.js" defer></script><script src="/assets/js/2.9a5fdc28.js" defer></script><script src="/assets/js/3.f506e88a.js" defer></script><script src="/assets/js/33.2ad3b1e5.js" defer></script>
  </body>
</html>
