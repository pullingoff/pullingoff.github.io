<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>논리-물리 메모리 주소 바인딩, 동적 로딩과 프로세스를 연속적으로 메모리에 적재하는 법 | 개발자 박하은 : TIL</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.svg">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="하루하루 배운 것을 적어봅니당">
    
    <link rel="preload" href="/assets/css/0.styles.2f020c09.css" as="style"><link rel="preload" href="/assets/js/app.01dafc0a.js" as="script"><link rel="preload" href="/assets/js/2.9a5fdc28.js" as="script"><link rel="preload" href="/assets/js/3.f506e88a.js" as="script"><link rel="preload" href="/assets/js/7.78b31e19.js" as="script"><link rel="prefetch" href="/assets/js/10.506671fd.js"><link rel="prefetch" href="/assets/js/100.7d370b48.js"><link rel="prefetch" href="/assets/js/101.a758c075.js"><link rel="prefetch" href="/assets/js/102.edfb6d8e.js"><link rel="prefetch" href="/assets/js/103.287d4674.js"><link rel="prefetch" href="/assets/js/104.b40cb2c3.js"><link rel="prefetch" href="/assets/js/105.3114667a.js"><link rel="prefetch" href="/assets/js/106.8d316d17.js"><link rel="prefetch" href="/assets/js/11.3500d894.js"><link rel="prefetch" href="/assets/js/12.9711effb.js"><link rel="prefetch" href="/assets/js/13.af52c8fc.js"><link rel="prefetch" href="/assets/js/14.2fd40f41.js"><link rel="prefetch" href="/assets/js/15.ef96c187.js"><link rel="prefetch" href="/assets/js/16.da48cff1.js"><link rel="prefetch" href="/assets/js/17.bc7b242b.js"><link rel="prefetch" href="/assets/js/18.f781e046.js"><link rel="prefetch" href="/assets/js/19.75b66bba.js"><link rel="prefetch" href="/assets/js/20.8c1a4052.js"><link rel="prefetch" href="/assets/js/21.e800525a.js"><link rel="prefetch" href="/assets/js/22.964d26d5.js"><link rel="prefetch" href="/assets/js/23.dacdb27d.js"><link rel="prefetch" href="/assets/js/24.3cb103ba.js"><link rel="prefetch" href="/assets/js/25.87413fee.js"><link rel="prefetch" href="/assets/js/26.d2ac3009.js"><link rel="prefetch" href="/assets/js/27.44c41b6a.js"><link rel="prefetch" href="/assets/js/28.3bd90694.js"><link rel="prefetch" href="/assets/js/29.618b8db8.js"><link rel="prefetch" href="/assets/js/30.c219b3ac.js"><link rel="prefetch" href="/assets/js/31.900bc326.js"><link rel="prefetch" href="/assets/js/32.42090d4d.js"><link rel="prefetch" href="/assets/js/33.2ad3b1e5.js"><link rel="prefetch" href="/assets/js/34.af02f726.js"><link rel="prefetch" href="/assets/js/35.f203a3e6.js"><link rel="prefetch" href="/assets/js/36.30c3eb06.js"><link rel="prefetch" href="/assets/js/37.73e9a554.js"><link rel="prefetch" href="/assets/js/38.441df7d1.js"><link rel="prefetch" href="/assets/js/39.40ac8014.js"><link rel="prefetch" href="/assets/js/4.dcf7541f.js"><link rel="prefetch" href="/assets/js/40.78673b30.js"><link rel="prefetch" href="/assets/js/41.19a3a87c.js"><link rel="prefetch" href="/assets/js/42.a35c31fc.js"><link rel="prefetch" href="/assets/js/43.e53d6059.js"><link rel="prefetch" href="/assets/js/44.ef145e25.js"><link rel="prefetch" href="/assets/js/45.dc773965.js"><link rel="prefetch" href="/assets/js/46.a804fa65.js"><link rel="prefetch" href="/assets/js/47.17ead68d.js"><link rel="prefetch" href="/assets/js/48.e292bb16.js"><link rel="prefetch" href="/assets/js/49.ee6075c8.js"><link rel="prefetch" href="/assets/js/5.a60f2c31.js"><link rel="prefetch" href="/assets/js/50.556dc4f4.js"><link rel="prefetch" href="/assets/js/51.7331e54b.js"><link rel="prefetch" href="/assets/js/52.b4fb4c4c.js"><link rel="prefetch" href="/assets/js/53.a2647ea8.js"><link rel="prefetch" href="/assets/js/54.f4a60b04.js"><link rel="prefetch" href="/assets/js/55.2db9fbb6.js"><link rel="prefetch" href="/assets/js/56.bc872077.js"><link rel="prefetch" href="/assets/js/57.c9771c8a.js"><link rel="prefetch" href="/assets/js/58.8bd6e774.js"><link rel="prefetch" href="/assets/js/59.7b1e5c28.js"><link rel="prefetch" href="/assets/js/6.14e653cc.js"><link rel="prefetch" href="/assets/js/60.4084f74c.js"><link rel="prefetch" href="/assets/js/61.29ea41d0.js"><link rel="prefetch" href="/assets/js/62.a221f8b0.js"><link rel="prefetch" href="/assets/js/63.ba792f09.js"><link rel="prefetch" href="/assets/js/64.b58a5ce5.js"><link rel="prefetch" href="/assets/js/65.5ed6eae7.js"><link rel="prefetch" href="/assets/js/66.43210a4d.js"><link rel="prefetch" href="/assets/js/67.3a53bb3b.js"><link rel="prefetch" href="/assets/js/68.89fbcc69.js"><link rel="prefetch" href="/assets/js/69.81fb34ed.js"><link rel="prefetch" href="/assets/js/70.2ea89033.js"><link rel="prefetch" href="/assets/js/71.6c757087.js"><link rel="prefetch" href="/assets/js/72.05e0a965.js"><link rel="prefetch" href="/assets/js/73.c350041d.js"><link rel="prefetch" href="/assets/js/74.35550c62.js"><link rel="prefetch" href="/assets/js/75.4951a53f.js"><link rel="prefetch" href="/assets/js/76.c65e46bb.js"><link rel="prefetch" href="/assets/js/77.97b5a697.js"><link rel="prefetch" href="/assets/js/78.f8b1902d.js"><link rel="prefetch" href="/assets/js/79.34d9c8cf.js"><link rel="prefetch" href="/assets/js/8.598d90c9.js"><link rel="prefetch" href="/assets/js/80.79da227a.js"><link rel="prefetch" href="/assets/js/81.f2968ce6.js"><link rel="prefetch" href="/assets/js/82.a2d865ed.js"><link rel="prefetch" href="/assets/js/83.b98e0b55.js"><link rel="prefetch" href="/assets/js/84.31656d0d.js"><link rel="prefetch" href="/assets/js/85.e17674a7.js"><link rel="prefetch" href="/assets/js/86.5a4907c6.js"><link rel="prefetch" href="/assets/js/87.68dc8b47.js"><link rel="prefetch" href="/assets/js/88.8d14f654.js"><link rel="prefetch" href="/assets/js/89.0cf770fa.js"><link rel="prefetch" href="/assets/js/9.f1af49be.js"><link rel="prefetch" href="/assets/js/90.593d9f9f.js"><link rel="prefetch" href="/assets/js/91.f83fc05b.js"><link rel="prefetch" href="/assets/js/92.ab225cfd.js"><link rel="prefetch" href="/assets/js/93.b766d8e3.js"><link rel="prefetch" href="/assets/js/94.0ac59005.js"><link rel="prefetch" href="/assets/js/95.1d43053b.js"><link rel="prefetch" href="/assets/js/96.69d2a5cb.js"><link rel="prefetch" href="/assets/js/97.973f3c6b.js"><link rel="prefetch" href="/assets/js/98.c759977e.js"><link rel="prefetch" href="/assets/js/99.ff487327.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2f020c09.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="개발자 박하은 : TIL" class="logo"> <span class="site-name can-hide">개발자 박하은 : TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://haeun.vercel.app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://pullingoff.github.io/vue-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Note
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/pullingoff" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://haeun.vercel.app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://pullingoff.github.io/vue-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Note
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/pullingoff" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Books I Read</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithms</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Computer Architecture</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ETC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JAVA</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NextJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Operation System</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/til/Operation System/220209-os1.html" class="sidebar-link">시스템 구조와 프로그램의 실행 (feat. CPU, 인터럽트, 커널모드란?)</a></li><li><a href="/til/Operation System/220213-os2.html" class="sidebar-link">프로세스와 쓰레드란? PCB와 문맥 교환은 무슨 관계일까?</a></li><li><a href="/til/Operation System/220216-os3.html" class="sidebar-link">프로세스의 생애주기, 협력 매커니즘, CPU Burst cycle</a></li><li><a href="/til/Operation System/220220-os4.html" class="sidebar-link">CPU 스케쥴링 알고리즘의 종류와 방법 (FCFS, SJF, RR 등)</a></li><li><a href="/til/Operation System/220223-os5.html" class="sidebar-link">프로세스 동기화 알고리즘 (레이스 컨디션, 임계 구역, 세마포어)</a></li><li><a href="/til/Operation System/220227-os6.html" class="sidebar-link">프로세스 동기화 관련 문제를 풀어보자 (Bounded-buffer 등)</a></li><li><a href="/til/Operation System/220302-os7.html" class="sidebar-link">데드락, 발생 조건과 처리 방법 4가지 (예방, 회피, 탐지, 무시)</a></li><li><a href="/til/Operation System/220306-io.html" class="sidebar-link">입출력 장치에 메모리 할당하기 (feat. Memory-mapped IO란?)</a></li><li><a href="/til/Operation System/220307-mm.html" class="active sidebar-link">논리-물리 메모리 주소 바인딩, 동적 로딩과 프로세스를 연속적으로 메모리에 적재하는 법</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/til/Operation System/220307-mm.html#논리-주소-vs-물리-주소" class="sidebar-link">논리 주소 vs. 물리 주소</a></li><li class="sidebar-sub-header"><a href="/til/Operation System/220307-mm.html#주소-바인딩의-시점" class="sidebar-link">주소 바인딩의 시점</a></li><li class="sidebar-sub-header"><a href="/til/Operation System/220307-mm.html#dynamic-loading-동적-로딩" class="sidebar-link">Dynamic Loading (동적 로딩)</a></li><li class="sidebar-sub-header"><a href="/til/Operation System/220307-mm.html#overlays-매뉴얼-오버레이" class="sidebar-link">Overlays (매뉴얼 오버레이)</a></li><li class="sidebar-sub-header"><a href="/til/Operation System/220307-mm.html#스와핑" class="sidebar-link">스와핑</a></li><li class="sidebar-sub-header"><a href="/til/Operation System/220307-mm.html#linking" class="sidebar-link">Linking</a></li><li class="sidebar-sub-header"><a href="/til/Operation System/220307-mm.html#물리적-메모리" class="sidebar-link">물리적 메모리</a></li><li class="sidebar-sub-header"><a href="/til/Operation System/220307-mm.html#연속-할당" class="sidebar-link">연속 할당</a></li></ul></li><li><a href="/til/Operation System/220307-mm2.html" class="sidebar-link">프로세스 메모리에 불연속적으로 할당하기 (페이징 테이블과 다단계 페이징 기법)</a></li><li><a href="/til/Operation System/220309-mm.html" class="sidebar-link">다단계 페이징 기법과 세그먼테이션 기법</a></li><li><a href="/til/Operation System/220313-vm.html" class="sidebar-link">가상 메모리 시스템의 페이지 교체 알고리즘을 알아보자</a></li><li><a href="/til/Operation System/220320-disk.html" class="sidebar-link">Disk란? 파티셔닝과 디스크 스케줄링 알고리즘 비교해보기</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Projects</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>메모리 참조를 하기 위해선 CPU가 논리 메모리 주소를 주면 물리 메모리 주소로 바꿔야한다. 하드웨어가 해줘야하는 역할들과 메모리 주소 바인딩 방법에 대해 배운다.</p> <h2 id="논리-주소-vs-물리-주소"><a href="#논리-주소-vs-물리-주소" class="header-anchor">#</a> 논리 주소 vs. 물리 주소</h2> <h3 id="논리-주소-virtual-address"><a href="#논리-주소-virtual-address" class="header-anchor">#</a> 논리 주소 (=virtual address)</h3> <ul><li>프로그램이 실행되면 생기는 독자적인 주소 공간</li> <li>각 프로세스마다 0번지부터 시작</li> <li><strong>CPU가 보는 주소</strong></li></ul> <h3 id="물리-주소"><a href="#물리-주소" class="header-anchor">#</a> 물리 주소</h3> <ul><li>메모리에 실제 올라가는 위치</li></ul> <h3 id="주소-바인딩-주소를-결정하는것"><a href="#주소-바인딩-주소를-결정하는것" class="header-anchor">#</a> 주소 바인딩: 주소를 결정하는것</h3> <p>symbolic -(컴파일)-&gt; logical -(실행을 위해 주소 변환)-&gt; physical address
프로그래머 입장에선 숫자가 아닌 symbolic addr 사용.</p> <p><img src="/assets/img/osmm1.3942296e.png" alt="주소 바인딩 예시"></p> <ul><li>소스코드: 심볼릭 주소(A,B)가 쓰임. A,B를 더한 후 C로 점프하라</li> <li>실행파일: 심볼릭 주소가 논리 주소(20,30)로 바뀜. 각각의 문장이 메모리 0번지~40번지에 들어감.</li> <li>실행시작: 물리적 메모리에 올라간다(= 주소 바인딩 된다.)</li></ul> <h2 id="주소-바인딩의-시점"><a href="#주소-바인딩의-시점" class="header-anchor">#</a> 주소 바인딩의 시점</h2> <h3 id="compile-time-바인딩"><a href="#compile-time-바인딩" class="header-anchor">#</a> compile time 바인딩</h3> <ul><li>컴파일 시점에 이미 물리적 메모리 주소가 결정됨 =&gt; 컴파일러가 절대 코드(absolute code) 생성</li> <li>메모리 주소 시작 위치 변경시 재컴파일 해야함</li> <li>실행파일에 있는 Add '20,30'이 논리 주소가 그대로 사용됨. -&gt; <strong>비효율적</strong></li> <li>컴퓨터 안에서 프로그램이 1개만 실행될 때 그나마 나음</li></ul> <h3 id="실행시간-load-time-바인딩"><a href="#실행시간-load-time-바인딩" class="header-anchor">#</a> 실행시간(Load time) 바인딩</h3> <ul><li>프로그램이 실행 시작되면 물리적 메모리 주소 결정됨</li> <li>로더의 책임 하에 물리적 메모리 주소 부여</li> <li>컴파일러가 재배치 가능 코드(relocatable code)를 생성한 경우에 가능 /빈 위치에는 실행 시 어디든 올라갈 수 있음</li></ul> <h3 id="런타임-바인딩"><a href="#런타임-바인딩" class="header-anchor">#</a> 런타임 바인딩</h3> <ul><li>실행시에 프로세스 메모리 주소가 결정되는건 로드타임 바인딩과 같으나 <strong>프로그램 실행중에도 주소가 바뀔 수 있음</strong> (메모리에서 쫓겨난다거나)</li> <li>CPU가 주소를 참조할 때마다 바인딩이 어디 됐는지 체크해봐야한다. (address mapping table)</li> <li>주소 참조시마다 바인딩 위치 확인하려면 하드웨어의 지원이 필요함 (base and limit registers, MMU)</li> <li>MMU가 주소 변환을 그때그때 해준다.</li></ul> <h4 id="cpu는-물리-주소를-바라볼까"><a href="#cpu는-물리-주소를-바라볼까" class="header-anchor">#</a> CPU는 물리 주소를 바라볼까?</h4> <p>CPU가 하드웨어라 물리 주소를 바라볼 것 같지만 바라보는 주소는 논리 주소다.
프로그램이 실행돼 메모리에 올라가도 명령어 코드에 있는 주소는 논리 주소다 (load time binding)
메모리에 올라갈때 시작 위치(500~)는 바뀌지만 그 안의 주소는 논리주소로 남아있기 때문임.</p> <h3 id="mmu-memory-management-unit"><a href="#mmu-memory-management-unit" class="header-anchor">#</a> MMU (Memory Management Unit)</h3> <ul><li>논리 주소를 물리 주소로 매핑해주는 하드웨어</li> <li>2개의 레지스터 사용 (base(relocation) register + limit register)</li> <li>방법: 사용자 프로세스가 CPU에서 수행되며 생성하는 모든 주소값에 base register의 값을 더한다.</li></ul> <h4 id="mmu-동작-원리-dynamic-relocation"><a href="#mmu-동작-원리-dynamic-relocation" class="header-anchor">#</a> MMU 동작 원리 (Dynamic Relocation)</h4> <p><img src="/assets/img/osmm2.5f0b8516.png" alt="dynamic relocation"></p> <ul><li>프로세스 P1은 논리주소: 0~3000번지 / 물리주소: 14000번지~</li> <li>CPU 왈: 0번지~ 346번지 주셈</li></ul> <p>=&gt; 프로그램의 논리주소(346)+시작위치(14000) = 물리주소(14346)</p> <h4 id="리밋-limit-레지스터"><a href="#리밋-limit-레지스터" class="header-anchor">#</a> 리밋(Limit) 레지스터</h4> <ul><li>논리 주소 범위(끝)를 기억한다.</li> <li>만약 악의적인 프로그램이 <strong>실제 자기가 있지 않은 논리 주소를 달라고 하면?</strong> 물리주소가 달라진다. =&gt; 다른 프로그램의 피지컬 메모리 주소 주는 걸 방지하기 위해 리밋 레지스터를 사용</li></ul> <h5 id="cpu가-논리-주소로-요청-논리-주소가-리밋-레지스터의-범위-내에-있는지-확인-리밋-레지스터-범위를-벗어나면-트랩-소프트웨어-인터럽트-발생시킴-악의적-접근이-아니었으면-relocation-base-register로-주소-변환"><a href="#cpu가-논리-주소로-요청-논리-주소가-리밋-레지스터의-범위-내에-있는지-확인-리밋-레지스터-범위를-벗어나면-트랩-소프트웨어-인터럽트-발생시킴-악의적-접근이-아니었으면-relocation-base-register로-주소-변환" class="header-anchor">#</a> CPU가 논리 주소로 요청 -&gt; 논리 주소가 리밋 레지스터의 범위 내에 있는지 확인 -&gt; 리밋 레지스터 범위를 벗어나면 트랩(소프트웨어 인터럽트) 발생시킴 -&gt; 악의적 접근이 아니었으면 relocation(base) register로 주소 변환</h5> <p>=&gt; 그 결과 프로그램은 논리 주소만 다르고, 실제 물리 주소는 알 필요가 없음.</p> <h2 id="dynamic-loading-동적-로딩"><a href="#dynamic-loading-동적-로딩" class="header-anchor">#</a> Dynamic Loading (동적 로딩)</h2> <ul><li>프로세스 전체를 메모리에 미리 다 올리는 게 아니라 해당 <strong>루틴이 호출되면 메모리에 로드</strong></li> <li>메모리를 효율적으로 사용 가능</li> <li>가끔씩 쓰는 많은 양의 코드를 쓸 때 유용 (e.g. 오류 처리 루틴)</li> <li>운영체제가 지원하는게 아니라 라이브러리를 지원해주면 프로그래머가 프로그램 내에 구현</li></ul> <h2 id="overlays-매뉴얼-오버레이"><a href="#overlays-매뉴얼-오버레이" class="header-anchor">#</a> Overlays (매뉴얼 오버레이)</h2> <ul><li>프로세스의 실제 필요한 정보만 메모리에 올림</li> <li>프로세스의 크기가 메모리보다 클 때 유용</li> <li>프로그래머가 직접 메모리에 올렸다 내렸다~ 구현하는거고 프로그래밍이 매우 복잡</li></ul> <h2 id="스와핑"><a href="#스와핑" class="header-anchor">#</a> 스와핑</h2> <ul><li>프로세스를 일시적으로 backing store로 내쫓는 것</li> <li>중기 스케줄러 (스와퍼)가 우선순위 낮은 프로세스를 골라서 swap out</li> <li>swap out: backing store(swap area)로 내쫓음</li> <li>swap in: backing store(swap area)에서 다시 불러들임</li> <li>컴파일/ 로드 타임 바인딩이면 돌아올 떄 메모리 원래 위치로 돌아와야하기 때문에 별로 쓸데 없음.</li> <li><strong>런타임 바인딩할 때 써서 추후 빈 메모리 영역 아무데나로 가져오는게 가장 효율적임</strong></li> <li>메모리에서 상당히 방대한 양을 내쫓거나/ 가져오는 거기 때문에 디스크 접근하는 시간의 대부분이 데이터 전송 시간(transfer time)이다. swap 되는 양에 비례함.</li></ul> <h2 id="linking"><a href="#linking" class="header-anchor">#</a> Linking</h2> <ul><li>프로그램을 작성하고 컴파일한 후 그 컴파일 된 파일들을 모아 실행파일로 만드는 것</li></ul> <h3 id="static-linking"><a href="#static-linking" class="header-anchor">#</a> Static Linking</h3> <ul><li><strong>라이브러리가 프로그램의 실행 파일 코드에 포함됨</strong> -&gt; 실행 파일의 크기가 커짐</li> <li>동일한 라이브러리를 각각의 프로세스가 메모리에 올리므로 메모리 낭비 (e.g. printf 함수의 라이브러리 코드)</li></ul> <h3 id="dynamic-linking-동적-연결"><a href="#dynamic-linking-동적-연결" class="header-anchor">#</a> Dynamic Linking (동적 연결)</h3> <ul><li>라이브러리가 실행파일 코드에 들어가지 않고 <strong>실행 시에 동적 연결됨</strong></li> <li>라이브러리 호출 부분에 <strong>라이브러리 루틴의 위치를 찾는 stub</strong>이라는 작은 코드를 둔다.</li> <li>라이브러리가 이미 메모리에 있으면 그 루틴의 주소로 가고, 없으면 디스크에서 읽어온다</li> <li>운영체제의 도움이 필요</li></ul> <h2 id="물리적-메모리"><a href="#물리적-메모리" class="header-anchor">#</a> 물리적 메모리</h2> <p><img src="/assets/img/osmm3.8b52ba10.png" alt="allocation of physical memory"></p> <ul><li>연속 할당: 프로세스 하나가 메모리의 연속적인 공간에 적재됨</li> <li>불연속 할당: 프로세스 하나를 나눠서 메모리의 여러 영역에 분산해 올림</li></ul> <h2 id="연속-할당"><a href="#연속-할당" class="header-anchor">#</a> 연속 할당</h2> <p><img src="/assets/img/osmm4.58a3de2e.png" alt="메모리 연속 할당"></p> <h3 id="고정-분할-방식"><a href="#고정-분할-방식" class="header-anchor">#</a> 고정 분할 방식</h3> <ul><li>프로그램이 들어갈 물리적 메모리 영역을 미리 영구적으로 나눠놓음 (partition)</li> <li>융통성이 없음. 최대 수행 가능한 프로그램의 크기가 제한되어있음.</li> <li>fragmentation(조각) 발생: 프로그램B가 분할3에 들어갔지만 남음. 프로그램B에게 할당됐지만 사용 안되는 부분 등</li></ul> <h3 id="가변-분할-방식"><a href="#가변-분할-방식" class="header-anchor">#</a> 가변 분할 방식</h3> <ul><li>분할의 크기, 갯수가 동적으로 변함</li> <li>B가 끝나고 D가 수행되는데 B가 들어갔던 부분은 D에게는 작아서 B가 끝나도 다른 자리로 들어감</li></ul> <h4 id="hole"><a href="#hole" class="header-anchor">#</a> Hole</h4> <p><img src="/assets/img/osmm5.74a53a3a.png" alt=""></p> <ul><li>사진 속 노란 공간이 hole (가용 공간)</li> <li>프로세스가 도착하면 hole에 넣는다.</li></ul> <h4 id="동적-저장공간-할당-dynamic-storage-allocation-문제-알고리즘"><a href="#동적-저장공간-할당-dynamic-storage-allocation-문제-알고리즘" class="header-anchor">#</a> 동적 저장공간 할당(dynamic storage allocation) 문제 (알고리즘)</h4> <p>: 가변 분할 방식에서 size n인 요청을 만족하는 가장 적절한 hole 을 찾는 문제</p> <ol><li>First-fit: size가 n 이상인 것 중 맨 처음으로 찾은 hole에 할당</li> <li>Best-fit: size가 n 이상인 가장 작은 hole을 찾아서 할당 / 홀의 리스트가 크기순 정렬아닌 경우 모든 hole을 탐색하는데 시간 소요</li> <li>Worst-fit: 가장 큰 hole에 할당. 역시 모든 리스트를 탐색해야함. 상대적으로 아주 큰 hole들이 생성됨.</li></ol> <p>=&gt; First-fit, best-fit이 worst-fit보다 속도/공간 이용률 측면에서 효과적임</p> <h4 id="compaction"><a href="#compaction" class="header-anchor">#</a> Compaction</h4> <ul><li>외부조각으로 생기는 hole을 한군데로 몰아 아주 큰 hole로 모아 큰 block으로 만듦</li> <li>매우 비용이 많이 드는 방법임</li> <li>런타임 바인딩이 지원되어야 가능함.</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/5/2022, 9:45:04 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/til/Operation System/220306-io.html" class="prev">
        입출력 장치에 메모리 할당하기 (feat. Memory-mapped IO란?)
      </a></span> <span class="next"><a href="/til/Operation System/220307-mm2.html">
        프로세스 메모리에 불연속적으로 할당하기 (페이징 테이블과 다단계 페이징 기법)
      </a>
      →
    </span></p></div> </main></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.01dafc0a.js" defer></script><script src="/assets/js/2.9a5fdc28.js" defer></script><script src="/assets/js/3.f506e88a.js" defer></script><script src="/assets/js/7.78b31e19.js" defer></script>
  </body>
</html>
